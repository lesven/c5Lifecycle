# C5 Evidence Tool – Konfiguration
# Kopieren als config.yaml und anpassen.

smtp:
  host: "smtp.company.de"
  port: 587
  encryption: "tls"            # tls | ssl | "" (none)
  username: "c5-evidence@company.de"
  password: "CHANGE_ME"
  from_address: "c5-evidence@company.de"
  from_name: "C5 Evidence Tool"

evidence:
  rz_assets:
    to: "rz-evidence@company.de"
    cc: []
  admin_devices:
    to: "privileged-evidence@company.de"
    cc:
      - "it-security@company.de"

jira:
  enabled: false
  base_url: "https://jira.company.de"
  project_key: "ITOPS"
  issue_type: "Task"
  api_token: "CHANGE_ME"

jira_rules:
  rz_provision: "none"
  rz_retire: "optional"
  rz_owner_confirm: "none"
  admin_provision: "none"
  admin_user_commitment: "none"
  admin_return: "required"
  admin_access_cleanup: "required"

# NetBox DCIM/IPAM Integration (optional)
# Ermöglicht Asset-Lookup und Status-Synchronisation mit NetBox
netbox:
  enabled: false                          # Feature-Toggle: true | false
  base_url: "https://netbox.company.de"   # NetBox-URL
  api_token: "CHANGE_ME"                  # API-Token für Authentifizierung
  timeout: 10                             # Timeout in Sekunden
  verify_ssl: true                        # SSL-Zertifikatsprüfung

  # Fehlerbehandlung bei NetBox-Problemen:
  # "warn"  = Submit läuft weiter, Warnung wird geloggt (Default)
  # "fail"  = Submit wird abgebrochen (nach Mail-Versand)
  on_error: "warn"

  # Sync-Regeln pro Event-Typ:
  # "update_status" = Status-Update + Journal Entry
  # "journal_only"  = Nur Journal Entry (kein Status-Update)
  # "none"          = Kein NetBox-Sync
  sync_rules:
    rz_provision: "update_status"
    rz_retire: "update_status"
    rz_owner_confirm: "journal_only"
    admin_provision: "update_status"
    admin_user_commitment: "journal_only"
    admin_return: "update_status"
    admin_access_cleanup: "journal_only"

  # Device automatisch anlegen wenn bei Inbetriebnahme nicht in NetBox vorhanden
  # Gilt nur fuer rz_provision und admin_provision
  create_on_provision: false

  # Fallback-IDs fuer automatische Device-Anlage (benoetigt wenn create_on_provision: true)
  # Device-Type wird zuerst per Hersteller+Modell gesucht; device_type_id nur als Fallback
  provision_defaults:
    device_type_id: 0   # NetBox Device-Type ID
    site_id: 0          # NetBox Site ID
    role_id: 0          # NetBox Device Role ID
